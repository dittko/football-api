<h2>Nowe hasło</h2>
<input id="pass1" placeholder="Nowe hasło">
<input id="pass2" placeholder="Powtórz hasło">
<button onclick="resetPassword()">Ustaw nowe hasło</button>

<script>
  const urlParams = new URLSearchParams(window.location.search);
  const token = urlParams.get('token');

  async function resetPassword() {
    const newPassword = document.getElementById('pass1').value;
    const repeatPassword = document.getElementById('pass2').value;

    const res = await fetch(`/api/auth/reset-password/${token}`, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ newPassword, repeatPassword })
    });
    alert(await res.text());
  }
</script>
